{% extends 'userapp/base.html' %}
{% load static %}
   {% block content %}

  <!-- ======= Header ======= -->
  {% include 'userapp/includes/inc_header.html' %}

  <!-- ======= Sidebar ======= -->
  {% include 'adminapp/includes/inc_sidebar.html' %}

  <main id="main" class="main">
      <section class="section">
          <div class="row">
              <div class="col-lg-6">
                  <div class="card">
            <div class="card-body">
              <h5 class="card-title">Пользователи</h5>
                  <table class="table table-dark">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Логин</th>
                    <th scope="col">Почта</th>
                    <th scope="col">Онлайн</th>
                    <th scope="col">Сделать модератором</th>
                  </tr>
                </thead>
                <tbody>
                {% for users in all_users %}
                  <tr>
                    <th scope="row">{{ users.pk }}</th>
                    <td><a class="nav-link collapsed" href="{% url 'admin_staff:user' users.pk %}">
                            {{ users.first_name }}
                        </a></td>
                      <td>{{ users.username }}</td>

                    <td>{{ users.email }}</td>
                      <td>{{ users.last_login }}</td>
                      <td>
                          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#verticalycentered{{ users.pk }}">
                          <i class="bi bi-person-plus"></i>
                            </button>
                      </td>
                  </tr>

            <div class="card-body">
              <div class="modal fade" id="verticalycentered{{ users.pk }}" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title"><span class="badge bg-danger">ВНИМАНИЕ</span></h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      Вы уверены что хотите сделать модератором {{ users.username }}?
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                        <a class="nav-link collapsed" href="{% url 'admin_staff:staff_edit' users.pk %}">
                      <button type="button" class="btn btn-primary">Добавить</button>
                        </a>
                    </div>
                  </div>
                </div>
              </div><!-- End Vertically centered Modal-->

            </div>

                {% endfor %}
                </tbody>
              </table>
            </div></div>
              </div>
              <div class="col-lg-6">
                <div class="card">
            <div class="card-body">
              <h5 class="card-title">Модераторы</h5>
                  <table class="table table-dark">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">Имя</th>
                    <th scope="col">Логин</th>
                    <th scope="col">Почта</th>
                    <th scope="col">Онлайн</th>
                    <th scope="col">Удалить из модераторов</th>
                  </tr>
                </thead>
                <tbody>
                {% for users in staff_users %}
                  <tr>
                    <th scope="row">{{ users.pk }}</th>
                    <td><a class="nav-link collapsed" href="{% url 'admin_staff:user' users.pk %}">
                            {{ users.first_name }}
                        </a></td>
                      <td>{{ users.username }}</td>

                    <td>{{ users.email }}</td>
                      <td>{{ users.last_login }}</td>
                      <td>
                          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#verticalycentered{{ users.pk }}">
                          <i class="bi bi-person-x"></i>
                            </button>
                      </td>
                  </tr>

            <div class="card-body">
              <div class="modal fade" id="verticalycentered{{ users.pk }}" tabindex="-1">
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title"><span class="badge bg-danger">ВНИМАНИЕ</span></h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      Вы уверены что хотите удалить из модераторов {{ users.username }}?
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                        <a class="nav-link collapsed" href="{% url 'admin_staff:staff_edit' users.pk %}">
                      <button type="button" class="btn btn-primary">Удалить</button>
                        </a>
                    </div>
                  </div>
                </div>
              </div><!-- End Vertically centered Modal-->

            </div>

                {% endfor %}
                </tbody>
              </table>
            </div>
                </div>
              </div>
              </div>
          </div>
      </section>
  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  {% include 'userapp/includes/inc_footer.html' %}
        {% endblock %}
{% block js %}

  {% include 'userapp/includes/inc_js.html' %}
{% endblock %}